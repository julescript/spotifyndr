{"version":3,"sources":["routes/Landing/Landing.module.css","components/navigation/Footer/Footer.module.css","components/navigation/NavBar/NavBar.module.css","components/cards/ArtistCard/ArtistCard.module.css","components/UI/Spinner/Spinner.module.css","routes/Albums/Albums.module.css","hoc/Layout/Layout.module.css","hoc/Container/Container.module.css","components/cards/LoginCard/LoginCard.module.css","assets/images/logo/logo_icon.svg","components/UI/headings/SectionTitle/SectionTitle.module.css","hoc/CardsGrid/CardsGrid.module.css","components/UI/RatingStars/RatingStars.module.css","assets/images/star_filled.svg","assets/images/star_empty.svg","components/UI/WelcomeText/WelcomeText.module.css","components/cards/AlbumCard/AlbumCard.module.css","components/UI/buttons/BackButton/BackButton.module.css","assets/images/back_icon.svg","utils/common.js","store/reducers/auth/index.js","store/actions/auth/index.js","store/reducers/search/index.js","store/actions/search/index.js","hoc/Container/Container.js","components/cards/LoginCard/LoginCard.js","components/UI/logo/IconLogo/IconLogo.js","routes/Landing/Landing.js","components/navigation/NavBar/NavBar.js","components/UI/headings/SectionTitle/SectionTitle.js","hoc/CardsGrid/CardsGrid.js","components/UI/RatingStars/RatingStars.js","components/cards/ArtistCard/ArtistCard.js","utils/axios.js","components/UI/WelcomeText/WelcomeText.js","components/UI/Spinner/Spinner.js","routes/Home/Home.js","components/cards/AlbumCard/AlbumCard.js","components/UI/buttons/BackButton/BackButton.js","routes/Albums/Albums.js","components/navigation/Footer/Footer.js","hoc/Layout/Layout.js","App.js","serviceWorker.js","utils/ScrollToTop.js","index.js"],"names":["module","exports","updateObject","oldObject","updatedProperties","formatNumber","number","tier","Math","log10","suffix","pow","toFixed","debounce","func","delay","inDebounce","context","this","args","arguments","clearTimeout","setTimeout","apply","checkIfBottomReached","document","documentElement","scrollHeight","scrollTop","clientHeight","initialState","AUTH_TOKEN","USER","IS_AUTHORIZED","reducer","state","action","type","token","user","SEARCH_RESULTS","SEARCH_QUERY","loading","data","value","Container","props","className","classes","container","children","LoginCard","onClick","IconLogo","src","Logo","alt","Landing","loginWithSpotifyHandler","url","encodeURIComponent","process","window","location","leftPane","rightPane","Component","connect","authReducer","dispatch","setToken","setUser","withRouter","NavBar","minLength","debounceTimeout","onChange","placeholder","disabled","Account","display_name","SectionTitle","title","subtitle","CardsGrid","Grid","RatingStars","n","round","parseFloat","rating","i","stars","map","e","idx","key","EmptyStar","FilledStar","ArtistCard","style","backgroundImage","img","Spacer","Info","name","followers","instance","axios","create","baseURL","headers","WelcomeText","Spinner","spinnerClasses","LoaderParent","light","push","join","Loader","Home","searchResults","searchQuery","error","didReachBottom","handleSearch","q","target","setState","performSearch","ArtistClickedHandler","id","history","pathname","addEventListener","prevProps","prevState","results","items","length","total","offset","fetchNext","console","log","onLoadingUpdated","get","next","then","res","artists","oldResults","unshift","onResultsUpdated","catch","err","response","onQueryUpdated","params","artist","images","popularity","query","Fragment","searchReducer","AlbumCard","date","tracks","BackButton","BackIcon","Albums","albums","backButtonHandler","goBack","previewButtonClickedHandler","open","fetchFirst","match","album","release_date","substring","total_tracks","external_urls","spotify","Header","Back","Footer","Copyright","role","aria-label","href","rel","Layout","Children","App","is_auth","fetchUser","_","delToken","hash","split","reduce","initial","item","parts","decodeURIComponent","path","exact","component","render","to","Boolean","hostname","ScrollToTop","useLocation","useEffect","scrollTo","rootReducer","combineReducers","store","createStore","ReactDOM","StrictMode","basename","getElementById","navigator","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.b9822942.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Landing\":\"Landing_Landing__1vOQe\",\"leftPane\":\"Landing_leftPane__1x9Iz\",\"rightPane\":\"Landing_rightPane__-yZ8x\",\"IconLogo\":\"Landing_IconLogo__JPSR_\",\"breath\":\"Landing_breath__2BR55\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Footer\":\"Footer_Footer__GZvmW\",\"Container\":\"Footer_Container__2dBUl\",\"Logo\":\"Footer_Logo__cgvkU\",\"Copyright\":\"Footer_Copyright__1iKjX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavBar\":\"NavBar_NavBar__3JWdI\",\"Account\":\"NavBar_Account__3PwKk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ArtistCard\":\"ArtistCard_ArtistCard__OuGo2\",\"Spacer\":\"ArtistCard_Spacer__1VUO8\",\"Info\":\"ArtistCard_Info__3YDaq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"Spinner_Loader__1twK-\",\"LoaderParent\":\"Spinner_LoaderParent__3RO6f\",\"light\":\"Spinner_light__1Esrz\",\"load8\":\"Spinner_load8__36vjM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Albums\":\"Albums_Albums__17CVc\",\"Header\":\"Albums_Header__2dE3H\",\"Back\":\"Albums_Back__1htdx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Layout\":\"Layout_Layout__2BpO9\",\"Children\":\"Layout_Children__2syKp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__2QYRU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoginCard\":\"LoginCard_LoginCard__dImu9\",\"enable\":\"LoginCard_enable__3Idwm\"};","module.exports = __webpack_public_path__ + \"static/media/logo_icon.da3ea075.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SectionTitle\":\"SectionTitle_SectionTitle__3quiz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Grid\":\"CardsGrid_Grid__6-8yi\",\"SectionTitle\":\"CardsGrid_SectionTitle__2XE0A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"RatingStars\":\"RatingStars_RatingStars__2DSv8\"};","module.exports = __webpack_public_path__ + \"static/media/star_filled.765ace4e.svg\";","module.exports = __webpack_public_path__ + \"static/media/star_empty.21cb713c.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"WelcomeText\":\"WelcomeText_WelcomeText__1HheW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AlbumCard\":\"AlbumCard_AlbumCard__2h8gP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BackButton\":\"BackButton_BackButton__1Gysp\"};","module.exports = __webpack_public_path__ + \"static/media/back_icon.7a172fc9.svg\";","export const updateObject = (oldObject, updatedProperties) => {\n    return {\n        ...oldObject,\n        ...updatedProperties\n    }\n};\n\nexport let env_check = process.env.NODE_ENV === 'production';\n\nexport const my_client_id = process.env.REACT_APP_SPOTIFY_CLIENT_ID;\n\nexport const isEmptyOrSpaces = (str) => {\n    return str === null || str.match(/^ *$/) !== null;\n};\n\nexport const formatNumber = (number) => {\n    var SI_SYMBOL = [\"\", \"k\", \"M\", \"G\", \"T\", \"P\", \"E\"];\n    // what tier? (determines SI symbol)\n    var tier = Math.log10(number) / 3 | 0;\n    // if zero, we don't need a suffix\n    if(tier === 0) return number;\n    // get suffix and determine scale\n    var suffix = SI_SYMBOL[tier];\n    var scale = Math.pow(10, tier * 3);\n    // scale the number\n    var scaled = number / scale;\n    // format number and add suffix\n    return scaled.toFixed(1) + suffix;\n}\n\nexport const followersString = (number) => {\n    if (number > 1) {\n        return formatNumber(number) + ' followers';\n    }\n    else if (number === 1) {\n        return formatNumber(number) + ' follower';\n    }\n    else {\n        return 'No followers'\n    }\n} \n\nexport const tracksString = (number) => {\n    if (number > 1) {\n        return (number) + ' tracks';\n    }\n    else if (number === 1) {\n        return (number) + ' track';\n    }\n    else {\n        return 'No tracks'\n    }\n} \n\nexport const debounce = (func, delay) => {\n    let inDebounce\n    return function() {\n      const context = this\n      const args = arguments\n      clearTimeout(inDebounce)\n      inDebounce = setTimeout(() => func.apply(context, args), delay)\n    }\n}\n\nexport const throttle = (func, limit) => {\n    let inThrottle\n    return function() {\n        const args = arguments\n        const context = this\n        if (!inThrottle) {\n            func.apply(context, args)\n            inThrottle = true\n            setTimeout(() => inThrottle = false, limit)\n        }\n    }\n}\n\nexport const checkIfBottomReached = () => {     \n   return (document.documentElement.scrollHeight - document.documentElement.scrollTop <= (document.documentElement.clientHeight + 80))\n}","import * as actionTypes from '../../actions/auth';\nimport { updateObject } from '../../../utils/common';\n\nconst initialState = {\n    AUTH_TOKEN: null,\n    USER: null,\n    IS_AUTHORIZED: false\n}\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case actionTypes.ADD_AUTH:\n            return updateObject(state, {AUTH_TOKEN: action.token})\n        case actionTypes.DELETE_AUTH:\n            return updateObject(state, {AUTH_TOKEN: null})\n        case actionTypes.ADD_USER:\n            return updateObject(state, {USER: action.user, IS_AUTHORIZED: true})\n        case actionTypes.DELETE_USER:\n                return updateObject(state, {USER: null, IS_AUTHORIZED: false})\n        default:\n            return state;\n    }\n};\n\nexport default reducer;","export const ADD_AUTH = 'ADD_AUTH';\nexport const DELETE_AUTH = 'DELETE_AUTH';\nexport const ADD_USER = 'ADD_USER';\nexport const DELETE_USER = 'DELETE_USER';","import * as actionTypes from '../../actions/search';\nimport { updateObject } from '../../../utils/common';;\n\nconst initialState = {\n    SEARCH_RESULTS: null,\n    SEARCH_QUERY: '',\n    loading: false\n}\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case actionTypes.UPDATE_SARCH:\n            return updateObject(state, {SEARCH_RESULTS: action.data})\n        case actionTypes.UPDATE_QUERY:\n            return updateObject(state, {SEARCH_QUERY: action.data})\n        case actionTypes.SET_LOADING:\n            return updateObject(state, {loading: action.value})\n        default:\n            return state;\n    }\n};\n\nexport default reducer;","export const UPDATE_SARCH = 'UPDATE_SARCH';\nexport const UPDATE_QUERY = 'UPDATE_QUERY';\nexport const SET_LOADING = 'SET_LOADING';","import React from 'react';\nimport classes from './Container.module.css';\n\nconst Container = (props) => (\n    <div className={props.className + ' ' + classes.container}>\n        {props.children}\n    </div>\n);\n\nexport default Container;","import React from 'react';\nimport classes from './LoginCard.module.css';\n\nconst LoginCard = (props) => (\n    <div className={classes.LoginCard}>\n        <h3>Get started</h3>\n        <button onClick={props.onClick}>Login with Spotify</button>\n    </div>\n);\n\nexport default LoginCard;","import React from 'react';\n// import classes from './IconLogo.module.css';\nimport Logo from '../../../../assets/images/logo/logo_icon.svg';\n\nconst IconLogo = (props) => (\n    <img src={Logo} alt=\"Spotifyndr logo\" className={props.className}/>\n);\n\nexport default IconLogo;","import React, { Component } from 'react';\nimport classes from './Landing.module.css';\nimport { withRouter } from 'react-router-dom'\nimport { my_client_id, env_check } from '../../utils/common';\nimport Container from '../../hoc/Container/Container';\n\nimport { connect } from 'react-redux';\nimport * as actionTypes from '../../store/actions/auth';\nimport LoginCard from '../../components/cards/LoginCard/LoginCard';\nimport IconLogo from '../../components/UI/logo/IconLogo/IconLogo';\n\nclass Landing extends Component {\n\n    loginWithSpotifyHandler = () => {\n        let url = 'https://accounts.spotify.com/authorize';\n        url += '?response_type=token';\n        url += '&client_id=' + encodeURIComponent(my_client_id);\n        url += '&scope=' + encodeURIComponent('user-read-private user-read-email');\n        if (env_check) {\n            url += '&redirect_uri=https://julescript.github.io/spotifyndr';\n        }\n        else {\n            url += '&redirect_uri=http://localhost:3000';\n        }\n        window.location = url; \n    }\n\n    render () {\n        return (\n            <div className={classes.Landing}>\n                <Container className={classes.Landing}>\n                    <div className={classes.leftPane}>\n                        <h1>find<br/>your<br/>artists</h1>\n                        <IconLogo className={classes.IconLogo}/>\n                    </div>\n                    <div className={classes.rightPane}>\n                        <LoginCard onClick={this.loginWithSpotifyHandler}/>\n                    </div>\n                </Container>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        user: state.authReducer.USER\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        setToken: (token) => dispatch({type: actionTypes.ADD_AUTH, token: token}),\n        setUser: (user) => dispatch({type: actionTypes.ADD_USER, user: user}),\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Landing));","import React, { Component } from 'react';\nimport classes from './NavBar.module.css';\nimport IconLogo from '../../UI/logo/IconLogo/IconLogo';\nimport { DebounceInput } from 'react-debounce-input';\n\nclass NavBar extends Component {\n\n    render () {\n        return (\n            <div className={classes.NavBar}>\n                    <IconLogo />\n                    {/* <input type=\"search\" disabled={this.props.user ? false : true} placeholder=\"Search Spotify artists\" onChange={this.props.onChange} onKeyDown={this.props.enterPressed}/> */}\n                    <DebounceInput\n                        minLength={3}\n                        debounceTimeout={300}\n                        onChange={this.props.onChange} \n                        placeholder=\"Search Spotify artists\"\n                        type=\"search\" \n                        disabled={this.props.user ? false : true}/>\n                {this.props.user ? (\n                    <div className={classes.Account}>\n                        <div>{this.props.user.display_name}</div>\n                        <img src={null} alt=''/>\n                    </div>\n                ) : (\n                    <div className={classes.Account}>\n                        <div>Loading</div>\n                        <img src={null} alt=''/>\n                    </div>\n                )}\n            </div>\n        );\n    }\n}\n\nexport default NavBar;","import React from 'react';\nimport classes from './SectionTitle.module.css';\n\nconst SectionTitle = (props) => (\n    <div className={props.className + ' ' + classes.SectionTitle}>\n        <h1>{props.title}</h1>\n        <h2>{props.subtitle}</h2>\n    </div>\n);\n\nexport default SectionTitle;","import React from 'react';\nimport classes from './CardsGrid.module.css';\n\nconst CardsGrid = (props) => (\n    <div className={classes.Grid}>\n        {props.children}\n    </div>\n);\n\nexport default CardsGrid;","import React from 'react';\nimport classes from './RatingStars.module.css';\nimport FilledStar from '../../../assets/images/star_filled.svg'\nimport EmptyStar from '../../../assets/images/star_empty.svg'\n\nconst RatingStars = (props) => {\n    let n = Math.round(parseFloat(props.rating))\n\n    if (n > 5) {\n        n = 5;\n    }\n    else if (n < 0) {\n        n = 0;\n    }\n\n    let rating = [0,0,0,0,0];\n\n    for (let i=0;i<n;i++) {\n        rating[i] = 1;\n    }\n\n    let stars = rating.map((e,idx) => {\n        if (e === 0) {\n            return (<img key={idx} src={EmptyStar} alt=\"Empty Star\"/>);\n        }\n        else {\n            return (<img key={idx} src={FilledStar} alt=\"Filled Star\"/>);\n        }\n    });\n\n    return(\n        <div className={classes.RatingStars}>\n            {stars}\n        </div>\n    );\n}\n\nexport default RatingStars;","import React from 'react';\nimport classes from './ArtistCard.module.css';\nimport RatingStars from '../../UI/RatingStars/RatingStars';\nimport { followersString } from '../../../utils/common';\n\nconst ArtistCard = (props) => (\n    <div className={classes.ArtistCard} style={{backgroundImage: 'url(' + props.img + ')'}} onClick={props.onClick}>\n        <div className={classes.Spacer}></div>\n        <div className={classes.Info}>\n            <h3>{props.name}</h3>\n            <p>{followersString(props.followers)}</p>\n            <RatingStars rating={props.stars}/>\n        </div>\n    </div>\n);\n\nexport default ArtistCard;","import axios from 'axios';\nimport { env_check } from './common';\n\nconst instance = axios.create({\n    baseURL: \"https://api.spotify.com/v1\",\n    headers: {\n        'content-type': 'application/json',\n        'Accept': 'application/json'\n    }\n});\n\nif (!env_check) {\n    instance.interceptors.request.use(request => {\n        console.log(request);\n        return request;\n    }, error => {\n        console.log(error);\n        return Promise.reject(error);\n    });\n\n    instance.interceptors.response.use(response => {\n        console.log(response);\n        return response;\n    }, error => {\n        console.log(error);\n        return Promise.reject(error);\n    });\n}\n\nexport default instance;","import React from 'react';\nimport classes from './WelcomeText.module.css';\n\nconst WelcomeText = (props) => (\n    <div className={classes.WelcomeText}>\n        <h1>{props.name},</h1>\n        <h2>Welcome to Spotifyndr</h2>\n        <hr />\n        <h3>Simply start by typing your desired artist in the search bar</h3>\n    </div>\n);\n\nexport default WelcomeText;","import React from 'react';\nimport classes from './Spinner.module.css';\n\nconst Spinner = (props) => {\n    let spinnerClasses = [classes.LoaderParent]\n    if (props.light) {\n        spinnerClasses.push(classes.light)\n    }\n    return (\n        <div className={spinnerClasses.join(' ')}>\n            <div className={classes.Loader}>Loading ...</div>\n        </div>\n    );\n}\n\nexport default Spinner;","import React, { Component } from 'react';\n// import classes from './Home.module.css';\nimport Container from '../../hoc/Container/Container';\nimport NavBar from '../../components/navigation/NavBar/NavBar';\nimport { withRouter } from 'react-router-dom';\nimport SectionTitle from '../../components/UI/headings/SectionTitle/SectionTitle';\nimport CardsGrid from '../../hoc/CardsGrid/CardsGrid';\nimport ArtistCard from '../../components/cards/ArtistCard/ArtistCard';\nimport { debounce, checkIfBottomReached } from '../../utils/common';\nimport axios from '../../utils/axios'\nimport { connect } from 'react-redux';\nimport WelcomeText from '../../components/UI/WelcomeText/WelcomeText';\nimport Spinner from '../../components/UI/Spinner/Spinner'\nimport * as actionTypes from '../../store/actions/search/index';\n\nclass Home extends Component {\n\n    state = {\n        searchResults: null,\n        searchQuery: '',\n        loading: false,\n        error: false,\n        didReachBottom: false\n    }\n\n    componentDidMount() {\n        window.addEventListener('scroll', debounce(() => {\n            if (checkIfBottomReached()) {\n                this.setState({\n                    didReachBottom: true\n                })\n            }\n        }, 100));\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevState.didReachBottom !== this.state.didReachBottom && prevState.didReachBottom === false) {\n            if (this.props.results){\n                if(this.props.results.items.length < this.props.results.total && this.props.results.items.length > this.props.results.offset)\n                    this.fetchNext()\n                else\n                    console.log('limit reached no more requests')\n            }\n            \n        }\n    }\n\n    fetchNext() {\n        this.setState({\n            loading: true,\n            error: false\n        })\n        this.props.onLoadingUpdated(true);\n        axios.get(this.props.results.next, {\n            headers: {\n                'Authorization': 'Bearer ' + this.props.token,\n            },\n        })\n            .then(res => {\n                const results = {...res.data.artists}\n                const oldResults = {...this.props.results}\n                results['items'].unshift(...oldResults['items']);\n                this.setState({\n                    searchResults: results,\n                    loading: false,\n                    error: false,\n                    didReachBottom: false\n                })\n                this.props.onResultsUpdated(results)\n                this.props.onLoadingUpdated(false)\n            })\n            .catch(err => {\n                this.setState({\n                    loading: false,\n                    error: err.response,\n                    didReachBottom: true\n                })\n                this.props.onLoadingUpdated(false)\n                console.log(err)\n            })\n    }\n\n    handleSearch = (e) => {\n        const q = e.target.value;\n        this.setState({\n            searchQuery: q,\n        })\n        this.performSearch(q);\n    }\n\n    performSearch(q) {\n        this.setState({\n            loading: true,\n            error: false,\n            didReachBottom: false\n        })\n        this.props.onQueryUpdated(q)\n        this.props.onLoadingUpdated(true);\n        axios.get('/search/', {\n            headers: {\n                'Authorization': 'Bearer ' + this.props.token,\n            },\n            params: {\n                'q': q,\n                'type': 'artist',\n                'limit': 12\n            }\n        })\n            .then(res => {\n                this.setState({\n                    searchResults: res.data.artists,\n                    loading: false,\n                    error: false\n                })\n                this.props.onResultsUpdated(res.data.artists)\n                this.props.onLoadingUpdated(false)\n            })\n            .catch(err => {\n                this.setState({\n                    loading: false,\n                    error: err.response\n                })\n                this.props.onLoadingUpdated(false)\n            })\n    }\n\n    ArtistClickedHandler = (id) => {\n        this.props.history.push({\n            pathname: '/artists/' + id + '/albums'\n        });\n    }\n\n    render () {\n        let results = null;\n        if (this.props.results) {\n            results = this.props.results.items.map(artist => {\n                return (\n                    <ArtistCard img={artist.images[1] ? artist.images[1].url : null} \n                        name={artist.name} \n                        followers={artist.followers.total} \n                        stars={(artist.popularity/20.0)}\n                        key={artist.id}\n                        onClick={() => this.ArtistClickedHandler(artist.id)} />\n                );\n            });\n        }\n        if (this.props.loading && !this.props.results) {\n            results = <Spinner />\n        }\n        return (\n            <Container>\n                <NavBar onChange={this.handleSearch} user={this.props.user} query={this.props.query}/>\n                {this.props.query !== '' ? (\n                    <React.Fragment>\n                        <SectionTitle title={'Artists'} subtitle={'Showing results for “'+this.props.query+'\"'}/>\n                        {!this.props.loading || this.props.results ? <CardsGrid>{results}</CardsGrid> : results}\n                        {this.props.loading && this.props.results ? <Spinner /> : null}\n                    </React.Fragment>\n                ) : (\n                    <WelcomeText name={this.props.user ? this.props.user.display_name : 'Hello'}/>\n                )}\n            </Container>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        user: state.authReducer.USER,\n        token: state.authReducer.AUTH_TOKEN,\n        results: state.searchReducer.SEARCH_RESULTS,\n        query: state.searchReducer.SEARCH_QUERY,\n        loading: state.searchReducer.loading\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onResultsUpdated: (data) => dispatch({type: actionTypes.UPDATE_SARCH, data: data}),\n        onQueryUpdated: (data) => dispatch({type: actionTypes.UPDATE_QUERY, data: data}),\n        onLoadingUpdated: (value) => dispatch({type: actionTypes.SET_LOADING, value: value})\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Home));","import React from 'react';\nimport classes from './AlbumCard.module.css';\nimport { tracksString } from '../../../utils/common';\n\nconst AlbumCard = (props) => (\n    <div className={classes.AlbumCard}>\n        <div style={{backgroundImage: 'url(' + props.img + ')'}} >\n        <button onClick={props.onClick} disabled={props.disabled}>Preview on Spotify</button>\n        </div>\n        <h3>{props.name}</h3>\n        <h4>{props.date + ' · ' + tracksString(props.tracks)}</h4>\n    </div>\n);\n\nexport default AlbumCard;","import React from 'react';\nimport classes from './BackButton.module.css';\nimport BackIcon from '../../../../assets/images/back_icon.svg'\n\nconst BackButton = (props) => (\n    <div className={classes.BackButton} onClick={props.onClick}>\n        <img src={BackIcon} alt=''/>\n        <div>Back</div>\n    </div>\n);\n\nexport default BackButton;","import React, { Component } from 'react';\nimport classes from './Albums.module.css';\nimport SectionTitle from '../../components/UI/headings/SectionTitle/SectionTitle';\nimport CardsGrid from '../../hoc/CardsGrid/CardsGrid';\nimport Container from '../../hoc/Container/Container';\nimport { withRouter } from 'react-router-dom';\nimport AlbumCard from '../../components/cards/AlbumCard/AlbumCard';\nimport BackButton from '../../components/UI/buttons/BackButton/BackButton';\nimport axios from '../../utils/axios'\nimport { connect } from 'react-redux';\nimport Spinner from '../../components/UI/Spinner/Spinner';\nimport { debounce, checkIfBottomReached } from '../../utils/common';\n\nclass Albums extends Component {\n\n    state = {\n        albums: null,\n        loading: true,\n        error: false,\n        didReachBottom: false\n    }\n\n    componentDidMount() {\n        window.addEventListener('scroll', debounce(() => {\n            if (checkIfBottomReached()) {\n                this.setState({\n                    didReachBottom: true\n                })\n            }\n        }, 100));\n        this.fetchFirst();\n    }\n\n    fetchFirst() {\n        axios.get(this.props.match.url + '/', {\n            headers: {\n                'Authorization': 'Bearer ' + this.props.token,\n            },\n            params: {\n                'limit': 12\n            }\n          })\n            .then(res => {\n                this.setState({\n                    albums: res.data,\n                    loading: false,\n                    error: false,\n                    didReachBottom: false\n                })\n            })\n            .catch(err => {\n                this.setState({\n                    albums: null,\n                    loading: false,\n                    error: err.response,\n                    didReachBottom: true\n                })\n            })\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if (prevState.didReachBottom !== this.state.didReachBottom && prevState.didReachBottom === false) {\n            if (this.state.albums){\n                if(this.state.albums.items.length < this.state.albums.total && this.state.albums.items.length > this.state.albums.offset)\n                    this.fetchNext()\n                else\n                    console.log('limit reached no more requests')\n            }\n            \n        }\n    }\n\n    fetchNext() {\n        this.setState({\n            loading: true,\n            error: false\n        })\n        axios.get(this.state.albums.next, {\n            headers: {\n                'Authorization': 'Bearer ' + this.props.token,\n            },\n        })\n            .then(res => {\n                const results = {...res.data}\n                const oldResults = {...this.state.albums}\n                results['items'].unshift(...oldResults['items']);\n                this.setState({\n                    albums: results,\n                    loading: false,\n                    error: false,\n                    didReachBottom: false\n                })\n            })\n            .catch(err => {\n                this.setState({\n                    loading: false,\n                    error: err.response,\n                    didReachBottom: true\n                })\n                console.log(err)\n            })\n    }\n\n    backButtonHandler = () => {\n        this.props.history.goBack()\n    }\n\n    previewButtonClickedHandler = (url) => {\n        window.open(url, '_blank')\n    }\n\n    render () {\n        let albums = null;\n        if (this.state.albums) {\n            albums = this.state.albums.items.map(album => {\n                return (\n                    <AlbumCard key={album.id} \n                        img={album.images[1] ? album.images[1].url : null} \n                        name={album.name}\n                        date={album.release_date.substring(0, 4)} \n                        tracks={album.total_tracks}\n                        onClick={() => this.previewButtonClickedHandler(album.external_urls.spotify)}\n                        disabled={false}/> \n                );\n            });\n        }\n        if (this.state.loading && !this.state.albums) {\n            albums = <Spinner />\n        }\n        return (\n            <Container className={classes.Albums}>\n                <div className={classes.Header}>\n                    <SectionTitle title={this.state.albums ? this.state.albums.items[0].artists[0].name : 'Artist'} subtitle={'Albums'}/>\n                    <div className={classes.Back}>\n                        <BackButton onClick={this.backButtonHandler}/>\n                    </div>\n                </div>\n                {!this.state.loading || this.state.albums ? <CardsGrid>{albums}</CardsGrid> : albums}\n                {this.state.loading && this.state.albums ? <Spinner /> : null}\n            </Container>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        token: state.authReducer.AUTH_TOKEN\n    };\n};\n\nconst mapDispatchToProps = dispatch => {\n    return {\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Albums));","import React from 'react';\nimport classes from './Footer.module.css';\nimport Container from '../../../hoc/Container/Container';\n\nconst Footer = (props) => (\n    <div className={classes.Footer}>\n        <Container className={classes.Container}>\n            <div className={classes.Logo}>Spotifyndr</div>\n            <div className={classes.Copyright}>Made with <span role=\"img\" aria-label='heart emoji'>❤️</span> by <a href='https://github.com/julescript' rel=\"noopener noreferrer\" target='_blank'>julescript</a></div>\n        </Container>\n    </div>\n);\n\nexport default Footer;","import React from 'react';\nimport classes from './Layout.module.css';\nimport Footer from '../../components/navigation/Footer/Footer';\n\nconst Layout = (props) => (\n    <div className={classes.Layout}>\n        <div className={classes.Children}>\n            {props.children}\n        </div>\n        <Footer />\n    </div>\n);\n\nexport default Layout;","import React, { Component } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\n\nimport Landing from './routes/Landing/Landing'\nimport { connect } from 'react-redux';\nimport Home from './routes/Home/Home';\nimport Albums from './routes/Albums/Albums';\n\nimport * as actionTypes from './store/actions/auth';\nimport axios from './utils/axios'\nimport Layout from './hoc/Layout/Layout';\n\nclass App extends Component {\n\n  state = {\n    is_auth: false,\n    loading: true\n  }\n\n  componentDidMount() {\n    const hash = window.location.hash\n        .substring(1)\n        .split('&')\n        .reduce(function (initial, item) {\n        if (item) {\n            var parts = item.split('=');\n            initial[parts[0]] = decodeURIComponent(parts[1]);\n        }\n        return initial;\n        }, {});\n\n    let token = hash['/access_token'];\n    // console.log(token) \n    if (token) {\n        this.props.setToken(token);\n    }\n    else {\n        // console.log(\"Not authorized yet\") \n    }\n}\n\n  fetchUser = () => {\n    axios.get('/me/', {\n      headers: {\n          'Authorization': 'Bearer ' + this.props.token,\n      }\n    })\n      .then(res => {\n          this.props.setUser(res.data);\n          this.setState({\n            is_auth: true,\n            loading: false\n          })\n      })\n      .catch(_ => {\n        this.props.delToken();\n        this.setState({\n          is_auth: false,\n          loading: false\n        })\n        // console.log('Something went wrong');\n      })\n  }\n\n  render() {\n    if (!this.props.token) {\n      return (\n        <Switch>\n          <Route path='/' exact component={Landing}/>\n          {/* <Route exact path=\"*\" render={() => (<Redirect to='/' />)} /> */}\n        </Switch>\n      );\n    }\n    else {\n      if (!this.state.is_auth && this.props.token) {\n        this.fetchUser();\n        // console.log('not_auth')\n      }\n      return (\n        <Layout>\n          <Switch>\n            <Route path='/' exact component={Home}/> \n            <Route path='/artists/:id/albums' exact component={Albums}/>\n            <Route exact path=\"/artists/:id\" render={() => (<Redirect to='/' />)} />\n            <Route exact path=\"/artists\" render={() => (<Redirect to='/' />)} />\n            <Route exact path=\"/:access_token\" render={() => (<Redirect to='/' />)} />\n          </Switch>\n        </Layout>\n      );\n    }\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n      token: state.authReducer.AUTH_TOKEN,\n      user: state.authReducer.USER,\n      is_auth: state.authReducer.IS_AUTHORIZED,\n  }\n};\nconst mapDispatchToProps = dispatch => {\n  return {\n    delToken: () => dispatch({type: actionTypes.DELETE_AUTH}),\n    setToken: (token) => dispatch({type: actionTypes.ADD_AUTH, token: token}),\n    setUser: (user) => dispatch({type: actionTypes.ADD_USER, user: user}),\n  }\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\n\nexport default function ScrollToTop() {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return null;\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { HashRouter } from 'react-router-dom';\n\nimport { Provider } from 'react-redux';\nimport { createStore, combineReducers } from 'redux';\nimport authReducer from './store/reducers/auth';\nimport searchReducer from './store/reducers/search';\n\nimport './styles/index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport ScrollToTop from './utils/ScrollToTop';\n\nconst rootReducer = combineReducers({\n  authReducer: authReducer,\n  searchReducer: searchReducer\n});\n\nconst store = createStore(rootReducer);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <HashRouter basename='/'>\n        <ScrollToTop />\n        <App />\n      </HashRouter>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}